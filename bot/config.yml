live_connectors:
  - name: alpaca_paper
    type: alpaca
    paper: true
    symbols:
      # --- Tech / Mega-cap Core ---
      - AAPL
      - MSFT
      - AMZN
      - GOOGL
      - META
      - NVDA
      - TSLA
      - NFLX
      - AMD
      - INTC
      - ADBE
      - CRM
      - ORCL
      - CSCO
      - AVGO
      - IBM
      - SHOP
      - UBER
      - SNOW
      - PLTR

      # --- Consumer / Retail / Media ---
      - PEP
      - KO
      - MCD
      - SBUX
      - NKE
      - COST
      - WMT
      - TGT
      - HD
      - LOW
      - DIS
      - PG
      - PM
      - MO
      - UL
      - EL
      - BKNG
      - ABNB
      - ROKU

      # --- Finance / Banks / Payments / Asset Managers ---
      - JPM
      - V
      - MA
      - BAC
      - WFC
      - C
      - GS
      - MS
      - BLK
      - BX
      - SCHW
      - AXP
      - BRK.B
      - PYPL
      - SQ

      # --- Healthcare / Pharma / Biotech ---
      - JNJ
      - PFE
      - MRK
      - ABBV
      - UNH
      - LLY
      - BMY
      - CVS
      - TMO
      - ABT

      # --- Energy / Commodities / Industrials / Defense ---
      - XOM
      - CVX
      - COP
      - SLB
      - CAT
      - BA
      - GE
      - LMT
      - NOC
      - LIN
      - RIO

      # --- Major ETFs / Sector ETFs ---
      - SPY    # S&P 500
      - QQQ    # Nasdaq 100
      - GLD    # Gold
      - IWM    # Russell 2000
      - DIA    # Dow Jones
      - XLK    # Tech
      - XLF    # Financials
      - XLV    # Healthcare
      - XLE    # Energy
      - SMH    # Semiconductors
      - ARKK   # Innovation

      # --- Crypto (Alpaca) - 24/7 Trading ---
      - AAVE/USD
      - AAVE/USDC
      - AAVE/USDT
      - AVAX/USD
      - AVAX/USDC
      - AVAX/USDT
      - BAT/USD
      - BAT/USDC
      - BCH/BTC
      - BCH/USD
      - BCH/USDC
      - BCH/USDT
      - BTC/USD
      - BTC/USDC
      - BTC/USDT
      - CRV/USD
      - CRV/USDC
      - DOGE/USD
      - DOGE/USDC
      - DOGE/USDT
      - DOT/USD
      - DOT/USDC
      - ETH/BTC
      - ETH/USD
      - ETH/USDC
      - ETH/USDT
      - GRT/USD
      - GRT/USDC
      - LINK/BTC
      - LINK/USD
      - LINK/USDC
      - LINK/USDT
      - LTC/BTC
      - LTC/USD
      - LTC/USDC
      - LTC/USDT
      - PEPE/USD
      - SHIB/USD
      - SHIB/USDC
      - SHIB/USDT
      - SKY/USD
      - SOL/USD
      - SOL/USDC
      - SOL/USDT
      - SUSHI/USD
      - SUSHI/USDC
      - SUSHI/USDT
      - TRUMP/USD
      - UNI/BTC
      - UNI/USD
      - UNI/USDC
      - UNI/USDT
      # *** שים לב: זוגות stable/Stable (USDC/USD, USDG/USD, USDT/USD, USDT/USDC) הוסרו בכוונה ***

    timeframe: "5m"
    htf_timeframe: "15m"

#  - name: bybit
#    type: ccxt
#    exchange_id: bybit
#    paper: false
#    default_type: swap
#    symbols: ["BTC/USDT:USDT", "ETH/USDT:USDT", "XMR/USDT:USDT", "XRP/USDT:USDT", "SOL/USDT:USDT"]
#    timeframe: "5m"
#    htf_timeframe: "15m"

# --- Session rules (לפי "חוקת הזמנות כשהבורסה סגורה v1") ---
session_rules:
  timezone: "America/New_York"          # שעה רשמית של שוק המניות
  equities_market_hours_only: true      # מניות – לעבוד רק בשעות מסחר
  cancel_equity_orders_at_close: true   # (עדיין לא ממומש בקוד)
  cancel_stale_equity_orders_on_open: true  # (עדיין לא ממומש בקוד)
  crypto_24_7: true                     # קריפטו – מותר 24/7

  # חדשים – למסחר יומי הדוק:
  equities_flat_at_close: true          # לסגור כל פוזיציות מניה בסוף היום
  equities_flat_minutes_before_close: 5 # כמה דקות לפני הסגירה לבצע flatten
  max_position_hours: 24                # גיל מקסימלי לפוזיציה (לכל הנכסים) – 24 שעות

strategy:
  name: DONCHIAN_ADX_RSI   # ברירת מחדל אם אין STRATEGY_NAME ב-ENV
  donchian_len: 14
  adx_min: 18

trade_manager:
  # סטופ התחלתי צמוד יותר
  atr_k_sl: 1.2

  # יעדי רווח
  r1_R: 1.0
  r2_R: 2.0

  # חלוקת כמות ב-TP1/TP2
  p1_pct: 0.4
  p2_pct: 0.6

  # מעבר ל-BE מוקדם יותר
  be_after_R: 0.6

  # טריילינג קצת יותר אגרסיבי
  trail_atr_k: 0.9

  # זמן מקסימלי בעסקה (בנרות) – 72 ברים של 5m ≈ 6 שעות
  max_bars_in_trade: 72

  # אופציונלי – לחיתוך הפסד מהיר (נטפל בצד הקוד כשתדביק את run_live_week.py)
  quick_loss_bars: 12    # אחרי ~שעה (12 * 5m)
  quick_loss_R: 0.7      # אם אחרי הזמן הזה אנחנו ב-0.7R- נגדנו – יוצאים

portfolio:
  equity0: "auto"        # הבוט מחשב בעצמו את גודל ההון ההתחלתי
  risk_per_trade: 0.02   # סיכון מקסימלי בסטופ – 2% מההון לכל טרייד
  max_position_pct: 0.2  # חשיפה מקסימלית לנכס אחד – 20% מההון הכולל
